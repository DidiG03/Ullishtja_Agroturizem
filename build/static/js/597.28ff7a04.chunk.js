"use strict";(self.webpackChunkullishtja_agroturizem=self.webpackChunkullishtja_agroturizem||[]).push([[597],{3597:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(9379),i=a(5043),l=a(5275),n=a(1045),r=a(9363);const c=new class{constructor(){this.baseUrl="".concat("","/api/restaurant-settings")}async getSettings(){try{const e=await fetch(this.baseUrl),s=await e.json();if(!e.ok)throw new Error(s.error||"Failed to fetch settings");return s}catch(e){throw console.error("Error fetching restaurant settings:",e),e}}async updateSettings(e){try{const s=await fetch(this.baseUrl,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw new Error(a.error||"Failed to update settings");return a}catch(s){throw console.error("Error updating restaurant settings:",s),s}}validateSettings(e){const s=[];if(e.restaurantName||s.push("Restaurant name is required"),e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||s.push("Please enter a valid email address"):s.push("Email is required"),e.phone||s.push("Phone number is required"),e.operatingHours){["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(a=>{const t=e.operatingHours[a];t&&!t.closed&&(t.open&&t.close||s.push("".concat(a.charAt(0).toUpperCase()+a.slice(1)," hours are incomplete")),t.open>=t.close&&s.push("".concat(a.charAt(0).toUpperCase()+a.slice(1)," opening time must be before closing time")))})}return{isValid:0===s.length,errors:s}}};var d=a(7115),o=a(579);const h=function(){var e;const[s,a]=(0,i.useState)([]),[l,n]=(0,i.useState)([]),[r,c]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[j,p]=(0,i.useState)(null),[v,g]=(0,i.useState)(null),[y,N]=(0,i.useState)(!0),[f,b]=(0,i.useState)(null),[C,A]=(0,i.useState)({nameAL:"",nameEN:"",nameIT:"",slug:"",displayOrder:0}),[w,k]=(0,i.useState)({categoryId:"",nameAL:"",nameEN:"",nameIT:"",descriptionAL:"",descriptionEN:"",descriptionIT:"",ingredientsAL:"",ingredientsEN:"",ingredientsIT:"",price:"",isVegetarian:!1,isSpicy:!1,isRecommended:!1,isNew:!1,imageUrl:"",displayOrder:0}),S=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;try{const s=await d.A.getMenuItems(e);s.success?n(s.data||[]):b(s.error||"Failed to load menu items")}catch(f){b("Failed to load menu items"),console.error(f)}},[r]),F=(0,i.useCallback)(async()=>{try{N(!0);const e=await d.A.getCategories();if(e.success){const s=e.data||[];a(s),s.length>0&&!r&&(c(s[0].id),S(s[0].id))}else b(e.error||"Failed to load categories")}catch(f){b("Failed to load categories"),console.error(f)}finally{N(!1)}},[r,S]);(0,i.useEffect)(()=>{F()},[F]);const E=()=>{A({nameAL:"",nameEN:"",nameIT:"",slug:"",displayOrder:0}),p(null),m(!1)},D=()=>{k({categoryId:"",nameAL:"",nameEN:"",nameIT:"",descriptionAL:"",descriptionEN:"",descriptionIT:"",ingredientsAL:"",ingredientsEN:"",ingredientsIT:"",price:"",isVegetarian:!1,isSpicy:!1,isRecommended:!1,isNew:!1,imageUrl:"",displayOrder:0}),g(null),u(!1)};return y?(0,o.jsx)("div",{className:"loading",children:"Loading menu management..."}):(0,o.jsxs)("div",{className:"menu-management",children:[(0,o.jsxs)("div",{className:"menu-management-header",children:[(0,o.jsx)("h2",{children:"Menu Management"}),(0,o.jsxs)("div",{className:"header-actions",children:[(0,o.jsx)("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Add Category"}),(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>u(!0),disabled:!r,children:"+ Add Menu Item"})]})]}),f&&(0,o.jsxs)("div",{className:"error-message",children:[f,(0,o.jsx)("button",{onClick:()=>b(null),children:"\xd7"})]}),(0,o.jsxs)("div",{className:"menu-content",children:[(0,o.jsxs)("div",{className:"categories-sidebar",children:[(0,o.jsx)("h3",{children:"Categories"}),(0,o.jsx)("div",{className:"category-list",children:s.map(e=>(0,o.jsxs)("div",{className:"category-item ".concat(r===e.id?"active":""),onClick:()=>{c(e.id),S(e.id)},children:[(0,o.jsxs)("div",{className:"category-info",children:[(0,o.jsx)("h4",{children:e.nameAL}),(0,o.jsx)("small",{children:e.nameEN})]}),(0,o.jsxs)("div",{className:"category-actions",children:[(0,o.jsx)("button",{className:"btn-icon",onClick:s=>{s.stopPropagation(),(e=>{p(e),A({nameAL:e.nameAL,nameEN:e.nameEN,nameIT:e.nameIT,slug:e.slug,displayOrder:e.displayOrder}),m(!0)})(e)},children:"\u270f\ufe0f"}),(0,o.jsx)("button",{className:"btn-icon",onClick:s=>{s.stopPropagation(),(async e=>{if(window.confirm("Are you sure? This will delete all items in this category."))try{await d.A.deleteCategory(e),await F()}catch(f){b("Failed to delete category")}})(e.id)},children:"\ud83d\uddd1\ufe0f"})]})]},e.id))})]}),(0,o.jsx)("div",{className:"menu-items-section",children:r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h3",{children:["Menu Items - ",null===(e=s.find(e=>e.id===r))||void 0===e?void 0:e.nameAL]}),(0,o.jsx)("div",{className:"menu-items-grid",children:l.map(e=>(0,o.jsxs)("div",{className:"menu-item-card",children:[(0,o.jsxs)("div",{className:"item-header",children:[(0,o.jsx)("h4",{children:e.nameAL}),(0,o.jsxs)("span",{className:"price",children:[e.price," ",e.currency]})]}),(0,o.jsx)("p",{className:"description",children:e.descriptionAL}),(0,o.jsxs)("div",{className:"item-badges",children:[e.isVegetarian&&(0,o.jsx)("span",{className:"badge vegetarian",children:"\ud83c\udf31"}),e.isSpicy&&(0,o.jsx)("span",{className:"badge spicy",children:"\ud83c\udf36\ufe0f"}),e.isRecommended&&(0,o.jsx)("span",{className:"badge recommended",children:"\u2b50"}),e.isNew&&(0,o.jsx)("span",{className:"badge new",children:"NEW"})]}),(0,o.jsxs)("div",{className:"item-actions",children:[(0,o.jsx)("button",{className:"btn btn-small",onClick:()=>(e=>{g(e),k({categoryId:e.categoryId,nameAL:e.nameAL,nameEN:e.nameEN,nameIT:e.nameIT,descriptionAL:e.descriptionAL||"",descriptionEN:e.descriptionEN||"",descriptionIT:e.descriptionIT||"",ingredientsAL:e.ingredientsAL||"",ingredientsEN:e.ingredientsEN||"",ingredientsIT:e.ingredientsIT||"",price:e.price.toString(),isVegetarian:e.isVegetarian,isSpicy:e.isSpicy,isRecommended:e.isRecommended,isNew:e.isNew,imageUrl:e.imageUrl||"",displayOrder:e.displayOrder}),u(!0)})(e),children:"Edit"}),(0,o.jsx)("button",{className:"btn btn-small btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this menu item?"))try{await d.A.deleteMenuItem(e),await S()}catch(f){b("Failed to delete menu item")}})(e.id),children:"Delete"})]})]},e.id))})]})})]}),h&&(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h3",{children:j?"Edit Category":"Add New Category"}),(0,o.jsx)("button",{className:"close-btn",onClick:E,children:"\xd7"})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{j?await d.A.updateCategory(j.id,C):await d.A.createCategory(C),await F(),E()}catch(f){b("Failed to ".concat(j?"update":"create"," category"))}},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Albanian Name"}),(0,o.jsx)("input",{type:"text",value:C.nameAL,onChange:e=>{var s;A((0,t.A)((0,t.A)({},C),{},{nameAL:e.target.value,slug:(s=e.target.value,s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))}))},required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"English Name"}),(0,o.jsx)("input",{type:"text",value:C.nameEN,onChange:e=>A((0,t.A)((0,t.A)({},C),{},{nameEN:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Italian Name"}),(0,o.jsx)("input",{type:"text",value:C.nameIT,onChange:e=>A((0,t.A)((0,t.A)({},C),{},{nameIT:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"URL Slug"}),(0,o.jsx)("input",{type:"text",value:C.slug,onChange:e=>A((0,t.A)((0,t.A)({},C),{},{slug:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Display Order"}),(0,o.jsx)("input",{type:"number",value:C.displayOrder,onChange:e=>A((0,t.A)((0,t.A)({},C),{},{displayOrder:parseInt(e.target.value)}))})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"button",onClick:E,children:"Cancel"}),(0,o.jsxs)("button",{type:"submit",className:"btn-primary",children:[j?"Update":"Create"," Category"]})]})]})]})}),x&&(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal large",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h3",{children:v?"Edit Menu Item":"Add New Menu Item"}),(0,o.jsx)("button",{className:"close-btn",onClick:D,children:"\xd7"})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,t.A)((0,t.A)({},w),{},{price:parseFloat(w.price),categoryId:r});v?await d.A.updateMenuItem(v.id,e):await d.A.createMenuItem(e),await S(),D()}catch(f){b("Failed to ".concat(v?"update":"create"," menu item"))}},children:[(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Albanian Name"}),(0,o.jsx)("input",{type:"text",value:w.nameAL,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{nameAL:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"English Name"}),(0,o.jsx)("input",{type:"text",value:w.nameEN,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{nameEN:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Italian Name"}),(0,o.jsx)("input",{type:"text",value:w.nameIT,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{nameIT:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"Albanian Description"}),(0,o.jsx)("textarea",{value:w.descriptionAL,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{descriptionAL:e.target.value})),rows:"3"})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"English Description"}),(0,o.jsx)("textarea",{value:w.descriptionEN,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{descriptionEN:e.target.value})),rows:"3"})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"Italian Description"}),(0,o.jsx)("textarea",{value:w.descriptionIT,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{descriptionIT:e.target.value})),rows:"3"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Albanian Ingredients"}),(0,o.jsx)("input",{type:"text",value:w.ingredientsAL,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{ingredientsAL:e.target.value})),placeholder:"Spinaq, djath\xeb, vez\xeb..."})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"English Ingredients"}),(0,o.jsx)("input",{type:"text",value:w.ingredientsEN,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{ingredientsEN:e.target.value})),placeholder:"Spinach, cheese, eggs..."})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Italian Ingredients"}),(0,o.jsx)("input",{type:"text",value:w.ingredientsIT,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{ingredientsIT:e.target.value})),placeholder:"Spinaci, formaggio, uova..."})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Price (ALL)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:w.price,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{price:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Display Order"}),(0,o.jsx)("input",{type:"number",value:w.displayOrder,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{displayOrder:parseInt(e.target.value)}))})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"Image URL (optional)"}),(0,o.jsx)("input",{type:"url",value:w.imageUrl,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{imageUrl:e.target.value})),placeholder:"https://example.com/image.jpg"})]}),(0,o.jsxs)("div",{className:"form-group checkbox-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:w.isVegetarian,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{isVegetarian:e.target.checked}))}),"Vegetarian \ud83c\udf31"]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:w.isSpicy,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{isSpicy:e.target.checked}))}),"Spicy \ud83c\udf36\ufe0f"]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:w.isRecommended,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{isRecommended:e.target.checked}))}),"Recommended \u2b50"]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:w.isNew,onChange:e=>k((0,t.A)((0,t.A)({},w),{},{isNew:e.target.checked}))}),"New Item \ud83c\udd95"]})]})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"button",onClick:D,children:"Cancel"}),(0,o.jsxs)("button",{type:"submit",className:"btn-primary",children:[v?"Update":"Create"," Menu Item"]})]})]})]})})]})},m=()=>{const[e,s]=(0,i.useState)([{id:1,type:"square",x:80,y:100,size:60,seats:4,status:"available",name:"T1"},{id:2,type:"square",x:200,y:100,size:60,seats:6,status:"occupied",name:"T2"},{id:3,type:"square",x:80,y:200,size:60,seats:4,status:"available",name:"T3"},{id:4,type:"square",x:200,y:200,size:60,seats:4,status:"reserved",name:"T4"},{id:5,type:"square",x:80,y:300,size:60,seats:4,status:"available",name:"T5"},{id:6,type:"square",x:200,y:300,size:60,seats:4,status:"cleaning",name:"T6"},{id:15,type:"square",x:80,y:440,size:60,seats:4,status:"available",name:"TG1"},{id:16,type:"square",x:200,y:440,size:60,seats:4,status:"available",name:"TG2"},{id:17,type:"square",x:80,y:520,size:60,seats:6,status:"occupied",name:"TG3"},{id:18,type:"square",x:200,y:520,size:60,seats:4,status:"reserved",name:"TG4"},{id:19,type:"square",x:390,y:440,size:60,seats:4,status:"available",name:"P1"},{id:20,type:"square",x:510,y:440,size:60,seats:4,status:"reserved",name:"P2"},{id:21,type:"square",x:390,y:520,size:60,seats:6,status:"available",name:"P3"},{id:22,type:"square",x:510,y:520,size:60,seats:4,status:"occupied",name:"P4"},{id:7,type:"square",x:390,y:100,size:60,seats:4,status:"available",name:"M1"},{id:8,type:"square",x:510,y:100,size:60,seats:4,status:"occupied",name:"M2"},{id:9,type:"square",x:570,y:100,size:60,seats:6,status:"reserved",name:"M3"},{id:10,type:"square",x:390,y:200,size:60,seats:4,status:"cleaning",name:"M4"},{id:11,type:"square",x:510,y:200,size:60,seats:4,status:"available",name:"M5"},{id:12,type:"square",x:570,y:200,size:60,seats:6,status:"occupied",name:"M6"},{id:13,type:"square",x:390,y:300,size:60,seats:4,status:"available",name:"M7"},{id:14,type:"square",x:510,y:300,size:60,seats:4,status:"reserved",name:"M8"}]),[a,l]=(0,i.useState)(null),n=(e,a)=>{s(s=>s.map(s=>s.id===e?(0,t.A)((0,t.A)({},s),{},{status:a}):s)),l(null)},r=e=>{switch(e){case"available":return"#10B981";case"occupied":return"#EF4444";case"reserved":return"#F59E0B";case"cleaning":return"#6B7280";default:return"#3B82F6"}},c=e=>{const s={key:e.id,onClick:()=>(e=>{l(e)})(e),style:{cursor:"pointer",fill:r(e.status),stroke:(null===a||void 0===a?void 0:a.id)===e.id?"#1F2937":"#374151",strokeWidth:(null===a||void 0===a?void 0:a.id)===e.id?3:2,filter:(null===a||void 0===a?void 0:a.id)===e.id?"drop-shadow(0 4px 8px rgba(0,0,0,0.3))":"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",transition:"all 0.3s ease"}};return(0,o.jsx)("rect",(0,t.A)((0,t.A)({},s),{},{x:e.x,y:e.y,width:e.size,height:e.size,rx:"8"}))};return(0,o.jsxs)("div",{className:"restaurant-layout",children:[(0,o.jsxs)("div",{className:"layout-header",children:[(0,o.jsxs)("div",{className:"header-content",children:[(0,o.jsx)("h2",{children:"\ud83c\udfdb\ufe0f Restaurant Floor Plan"}),(0,o.jsx)("p",{children:"Ullishtja Agroturizem - Table Management System"})]}),(0,o.jsx)("div",{className:"layout-controls",children:(0,o.jsxs)("div",{className:"status-legend",children:[(0,o.jsxs)("div",{className:"legend-item",children:[(0,o.jsx)("div",{className:"legend-color available"}),(0,o.jsx)("span",{children:"Available"})]}),(0,o.jsxs)("div",{className:"legend-item",children:[(0,o.jsx)("div",{className:"legend-color occupied"}),(0,o.jsx)("span",{children:"Occupied"})]}),(0,o.jsxs)("div",{className:"legend-item",children:[(0,o.jsx)("div",{className:"legend-color reserved"}),(0,o.jsx)("span",{children:"Reserved"})]}),(0,o.jsxs)("div",{className:"legend-item",children:[(0,o.jsx)("div",{className:"legend-color cleaning"}),(0,o.jsx)("span",{children:"Cleaning"})]})]})})]}),(0,o.jsxs)("div",{className:"layout-container",children:[(0,o.jsx)("div",{className:"layout-canvas",children:(0,o.jsxs)("svg",{width:"700",height:"650",viewBox:"0 0 700 650",className:"restaurant-floor",children:[(0,o.jsxs)("defs",{children:[(0,o.jsxs)("pattern",{id:"woodPattern",patternUnits:"userSpaceOnUse",width:"20",height:"20",children:[(0,o.jsx)("rect",{width:"20",height:"20",fill:"#8B4513"}),(0,o.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",fill:"#A0522D"})]}),(0,o.jsxs)("pattern",{id:"tilePattern",patternUnits:"userSpaceOnUse",width:"15",height:"15",children:[(0,o.jsx)("rect",{width:"15",height:"15",fill:"#F5F5F5"}),(0,o.jsx)("rect",{x:"1",y:"1",width:"13",height:"13",fill:"#FFFFFF"})]}),(0,o.jsxs)("pattern",{id:"gardenPattern",patternUnits:"userSpaceOnUse",width:"25",height:"25",children:[(0,o.jsx)("rect",{width:"25",height:"25",fill:"#D4F4DD"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3",fill:"#10B981"}),(0,o.jsx)("circle",{cx:"5",cy:"20",r:"2",fill:"#059669"}),(0,o.jsx)("circle",{cx:"20",cy:"8",r:"2",fill:"#047857"})]}),(0,o.jsxs)("pattern",{id:"privePattern",patternUnits:"userSpaceOnUse",width:"20",height:"20",children:[(0,o.jsx)("rect",{width:"20",height:"20",fill:"#FEF3C7"}),(0,o.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",fill:"#FDE68A"}),(0,o.jsx)("rect",{x:"4",y:"4",width:"12",height:"12",fill:"#FCD34D"})]})]}),(0,o.jsx)("rect",{x:"30",y:"30",width:"640",height:"590",fill:"#F8F9FA",stroke:"#E5E7EB",strokeWidth:"4",rx:"15"}),(0,o.jsx)("rect",{x:"50",y:"60",width:"290",height:"320",fill:"#F0FDF4",stroke:"#10B981",strokeWidth:"3",rx:"12"}),(0,o.jsx)("rect",{x:"45",y:"55",width:"300",height:"330",fill:"none",stroke:"#059669",strokeWidth:"2",rx:"15"}),(0,o.jsx)("rect",{x:"50",y:"410",width:"290",height:"190",fill:"url(#gardenPattern)",stroke:"#059669",strokeWidth:"3",rx:"12"}),(0,o.jsx)("rect",{x:"45",y:"405",width:"300",height:"200",fill:"none",stroke:"#047857",strokeWidth:"2",rx:"15"}),(0,o.jsx)("rect",{x:"360",y:"60",width:"290",height:"320",fill:"url(#tilePattern)",stroke:"#D1D5DB",strokeWidth:"3",rx:"12"}),(0,o.jsx)("rect",{x:"355",y:"55",width:"300",height:"330",fill:"none",stroke:"#6B7280",strokeWidth:"2",rx:"15"}),(0,o.jsx)("rect",{x:"360",y:"410",width:"290",height:"190",fill:"url(#privePattern)",stroke:"#D97706",strokeWidth:"3",rx:"12"}),(0,o.jsx)("rect",{x:"355",y:"405",width:"300",height:"200",fill:"none",stroke:"#B45309",strokeWidth:"2",rx:"15"}),(0,o.jsx)("rect",{x:"570",y:"60",width:"70",height:"80",fill:"#FEE2E2",stroke:"#EF4444",strokeWidth:"2",rx:"8"}),(0,o.jsx)("rect",{x:"575",y:"65",width:"60",height:"15",fill:"#DC2626",rx:"4"}),(0,o.jsx)("text",{x:"605",y:"75",textAnchor:"middle",style:{fontSize:"10px",fontWeight:"bold",fill:"#FFFFFF"},children:"KITCHEN"}),(0,o.jsx)("circle",{cx:"585",cy:"95",r:"6",fill:"#9CA3AF"}),(0,o.jsx)("circle",{cx:"600",cy:"95",r:"6",fill:"#9CA3AF"}),(0,o.jsx)("circle",{cx:"615",cy:"95",r:"6",fill:"#9CA3AF"}),(0,o.jsx)("rect",{x:"580",y:"110",width:"25",height:"12",fill:"#6B7280",rx:"2"}),(0,o.jsx)("rect",{x:"610",y:"110",width:"20",height:"12",fill:"#6B7280",rx:"2"}),(0,o.jsx)("rect",{x:"570",y:"150",width:"70",height:"80",fill:"#FEF3C7",stroke:"#D97706",strokeWidth:"2",rx:"8"}),(0,o.jsx)("rect",{x:"575",y:"155",width:"60",height:"15",fill:"#B45309",rx:"4"}),(0,o.jsx)("text",{x:"605",y:"165",textAnchor:"middle",style:{fontSize:"10px",fontWeight:"bold",fill:"#FFFFFF"},children:"BAR"}),(0,o.jsx)("circle",{cx:"585",cy:"185",r:"6",fill:"#8B4513"}),(0,o.jsx)("circle",{cx:"600",cy:"185",r:"6",fill:"#8B4513"}),(0,o.jsx)("circle",{cx:"615",cy:"185",r:"6",fill:"#8B4513"}),(0,o.jsx)("rect",{x:"580",y:"200",width:"25",height:"12",fill:"#A0522D",rx:"2"}),(0,o.jsx)("rect",{x:"610",y:"200",width:"20",height:"12",fill:"#A0522D",rx:"2"}),(0,o.jsx)("rect",{x:"310",y:"385",width:"80",height:"20",fill:"#3B82F6",stroke:"#1D4ED8",strokeWidth:"2",rx:"8"}),(0,o.jsx)("text",{x:"350",y:"398",textAnchor:"middle",style:{fontSize:"12px",fontWeight:"bold",fill:"#FFFFFF"},children:"ENTRANCE"}),(0,o.jsx)("rect",{x:"50",y:"75",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"50",y:"130",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"50",y:"185",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"50",y:"470",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"50",y:"530",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"642",y:"75",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"642",y:"130",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"642",y:"185",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"642",y:"240",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"642",y:"295",width:"8",height:"40",fill:"#93C5FD",stroke:"#3B82F6",strokeWidth:"1",rx:"2"}),(0,o.jsx)("circle",{cx:"70",cy:"80",r:"8",fill:"#22C55E"}),(0,o.jsx)("circle",{cx:"85",cy:"85",r:"6",fill:"#16A34A"}),(0,o.jsx)("circle",{cx:"75",cy:"95",r:"5",fill:"#15803D"}),(0,o.jsx)("circle",{cx:"310",cy:"80",r:"8",fill:"#22C55E"}),(0,o.jsx)("circle",{cx:"300",cy:"90",r:"10",fill:"#16A34A"}),(0,o.jsx)("circle",{cx:"320",cy:"95",r:"6",fill:"#15803D"}),(0,o.jsx)("circle",{cx:"70",cy:"350",r:"10",fill:"#22C55E"}),(0,o.jsx)("circle",{cx:"310",cy:"360",r:"8",fill:"#16A34A"}),(0,o.jsx)("circle",{cx:"70",cy:"450",r:"10",fill:"#059669"}),(0,o.jsx)("circle",{cx:"85",cy:"465",r:"8",fill:"#047857"}),(0,o.jsx)("circle",{cx:"75",cy:"480",r:"6",fill:"#065F46"}),(0,o.jsx)("circle",{cx:"310",cy:"460",r:"12",fill:"#059669"}),(0,o.jsx)("circle",{cx:"300",cy:"480",r:"8",fill:"#047857"}),(0,o.jsx)("circle",{cx:"320",cy:"495",r:"6",fill:"#065F46"}),(0,o.jsx)("circle",{cx:"70",cy:"550",r:"9",fill:"#059669"}),(0,o.jsx)("circle",{cx:"310",cy:"570",r:"10",fill:"#047857"}),(0,o.jsx)("circle",{cx:"120",cy:"440",r:"5",fill:"#22C55E"}),(0,o.jsx)("circle",{cx:"250",cy:"440",r:"7",fill:"#16A34A"}),(0,o.jsx)("circle",{cx:"120",cy:"580",r:"6",fill:"#22C55E"}),(0,o.jsx)("circle",{cx:"250",cy:"580",r:"8",fill:"#16A34A"}),(0,o.jsx)("circle",{cx:"380",cy:"430",r:"8",fill:"#D97706"}),(0,o.jsx)("circle",{cx:"520",cy:"440",r:"6",fill:"#B45309"}),(0,o.jsx)("circle",{cx:"620",cy:"450",r:"7",fill:"#92400E"}),(0,o.jsx)("circle",{cx:"380",cy:"570",r:"9",fill:"#D97706"}),(0,o.jsx)("circle",{cx:"520",cy:"560",r:"8",fill:"#B45309"}),(0,o.jsx)("circle",{cx:"620",cy:"570",r:"6",fill:"#92400E"}),(0,o.jsx)("rect",{x:"352",y:"410",width:"4",height:"190",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"658",y:"410",width:"4",height:"190",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"370",y:"402",width:"270",height:"4",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"370",y:"608",width:"270",height:"4",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",rx:"2"}),(0,o.jsx)("rect",{x:"570",y:"520",width:"60",height:"60",fill:"#F3F4F6",stroke:"#6B7280",strokeWidth:"2",rx:"6"}),(0,o.jsx)("text",{x:"600",y:"540",textAnchor:"middle",style:{fontSize:"10px",fontWeight:"bold",fill:"#6B7280"},children:"WC"}),(0,o.jsx)("circle",{cx:"585",cy:"560",r:"8",fill:"#E5E7EB",stroke:"#9CA3AF",strokeWidth:"1"}),(0,o.jsx)("circle",{cx:"615",cy:"560",r:"8",fill:"#E5E7EB",stroke:"#9CA3AF",strokeWidth:"1"}),(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"150",y:"25",width:"80",height:"25",fill:"rgba(240,253,244,0.9)",stroke:"#10B981",strokeWidth:"1",rx:"6"}),(0,o.jsx)("text",{x:"190",y:"40",textAnchor:"middle",style:{fontSize:"14px",fontWeight:"bold",fill:"#047857"},children:"Terrace"})]}),(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"120",y:"385",width:"120",height:"25",fill:"rgba(212,244,221,0.9)",stroke:"#059669",strokeWidth:"1",rx:"6"}),(0,o.jsx)("text",{x:"180",y:"400",textAnchor:"middle",style:{fontSize:"14px",fontWeight:"bold",fill:"#047857"},children:"Terrace Garden"})]}),(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"450",y:"385",width:"80",height:"25",fill:"rgba(248,246,240,0.9)",stroke:"#D97706",strokeWidth:"1",rx:"6"}),(0,o.jsx)("text",{x:"490",y:"400",textAnchor:"middle",style:{fontSize:"14px",fontWeight:"bold",fill:"#B45309"},children:"Prive"})]}),(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"450",y:"25",width:"120",height:"25",fill:"rgba(255,255,255,0.9)",stroke:"#E5E7EB",strokeWidth:"1",rx:"6"}),(0,o.jsx)("text",{x:"510",y:"40",textAnchor:"middle",style:{fontSize:"14px",fontWeight:"bold",fill:"#1F2937"},children:"Main Dining Area"})]}),e.map(e=>c(e)),e.map(e=>(e=>{const s=e.x+e.size/2,a=e.y+e.size/2;return(0,o.jsx)("text",{x:s,y:a,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"18px",fontWeight:"bold",fill:"#FFFFFF",pointerEvents:"none",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:e.seats},"label-".concat(e.id))})(e))]})}),a&&(0,o.jsxs)("div",{className:"table-details",children:[(0,o.jsxs)("div",{className:"table-details-header",children:[(0,o.jsxs)("h3",{children:["Table ",a.name]}),(0,o.jsx)("div",{className:"status-badge ".concat(a.status),children:a.status})]}),(0,o.jsxs)("div",{className:"table-info",children:[(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{className:"info-label",children:"Type:"}),(0,o.jsx)("span",{className:"info-value",children:a.type})]}),(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{className:"info-label",children:"Capacity:"}),(0,o.jsxs)("span",{className:"info-value",children:[a.seats," guests"]})]}),(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{className:"info-label",children:"Location:"}),(0,o.jsx)("span",{className:"info-value",children:a.x<350?a.y<390?"Terrace":"Terrace Garden":a.y<390?"Main Dining":"Prive"})]})]}),(0,o.jsxs)("div",{className:"table-actions",children:[(0,o.jsx)("button",{className:"status-btn available",onClick:()=>n(a.id,"available"),children:"\u2705 Set Available"}),(0,o.jsx)("button",{className:"status-btn occupied",onClick:()=>n(a.id,"occupied"),children:"\ud83d\udd34 Set Occupied"}),(0,o.jsx)("button",{className:"status-btn reserved",onClick:()=>n(a.id,"reserved"),children:"\ud83d\udfe1 Set Reserved"}),(0,o.jsx)("button",{className:"status-btn cleaning",onClick:()=>n(a.id,"cleaning"),children:"\ud83e\uddf9 Set Cleaning"})]}),(0,o.jsx)("button",{className:"close-details",onClick:()=>l(null),children:"\u2715 Close Details"})]})]}),(0,o.jsxs)("div",{className:"layout-stats",children:[(0,o.jsxs)("div",{className:"stat-card available",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("span",{className:"stat-number",children:e.filter(e=>"available"===e.status).length}),(0,o.jsx)("span",{className:"stat-label",children:"Available Tables"})]})]}),(0,o.jsxs)("div",{className:"stat-card occupied",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udd34"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("span",{className:"stat-number",children:e.filter(e=>"occupied"===e.status).length}),(0,o.jsx)("span",{className:"stat-label",children:"Occupied Tables"})]})]}),(0,o.jsxs)("div",{className:"stat-card reserved",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udfe1"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("span",{className:"stat-number",children:e.filter(e=>"reserved"===e.status).length}),(0,o.jsx)("span",{className:"stat-label",children:"Reserved Tables"})]})]}),(0,o.jsxs)("div",{className:"stat-card total",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("span",{className:"stat-number",children:e.reduce((e,s)=>e+s.seats,0)}),(0,o.jsx)("span",{className:"stat-label",children:"Total Capacity"})]})]})]})]})},x=e=>{var s;let{slot:a,onClose:l,onSave:n,title:r}=e;const[c,d]=(0,i.useState)({time:(null===a||void 0===a?void 0:a.time)||"",maxCapacity:(null===a||void 0===a?void 0:a.maxCapacity)||20,duration:(null===a||void 0===a?void 0:a.duration)||120,displayOrder:(null===a||void 0===a?void 0:a.displayOrder)||0,isActive:null===(s=null===a||void 0===a?void 0:a.isActive)||void 0===s||s}),h=e=>{const{name:s,value:a,type:i,checked:l}=e.target;d(e=>(0,t.A)((0,t.A)({},e),{},{[s]:"checkbox"===i?l:a}))};return(0,o.jsx)("div",{className:"modal-overlay",onClick:l,children:(0,o.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h3",{children:r}),(0,o.jsx)("button",{className:"close-button",onClick:l,children:"\xd7"})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(c)},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Time"}),(0,o.jsx)("input",{type:"time",name:"time",value:c.time,onChange:h,required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Maximum Capacity"}),(0,o.jsx)("input",{type:"number",name:"maxCapacity",value:c.maxCapacity,onChange:h,min:"1",max:"100",required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Duration (minutes)"}),(0,o.jsx)("input",{type:"number",name:"duration",value:c.duration,onChange:h,min:"30",max:"300",step:"30",required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Display Order"}),(0,o.jsx)("input",{type:"number",name:"displayOrder",value:c.displayOrder,onChange:h,min:"0",required:!0})]}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"isActive",checked:c.isActive,onChange:h}),"Active"]})}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)("button",{type:"button",onClick:l,children:"Cancel"}),(0,o.jsx)("button",{type:"submit",children:"Save"})]})]})]})})},u=e=>{let{slot:s,onClose:a,onUpdate:l,daysOfWeek:n}=e;const[r,c]=(0,i.useState)({});(0,i.useEffect)(()=>{const e={};n.forEach(a=>{var t;const i=null===(t=s.capacityOverrides)||void 0===t?void 0:t.find(e=>e.dayOfWeek===a.id&&e.isActive);e[a.id]=i?i.maxCapacity:s.maxCapacity}),c(e)},[s,n]);return(0,o.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,o.jsxs)("div",{className:"modal-content capacity-modal",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsxs)("h3",{children:["Capacity Settings - ",s.time]}),(0,o.jsx)("button",{className:"close-button",onClick:a,children:"\xd7"})]}),(0,o.jsxs)("div",{className:"capacity-form",children:[(0,o.jsxs)("p",{children:["Default capacity: ",s.maxCapacity," guests"]}),(0,o.jsx)("div",{className:"capacity-grid",children:n.map(e=>(0,o.jsxs)("div",{className:"capacity-row",children:[(0,o.jsx)("label",{children:e.name}),(0,o.jsx)("input",{type:"number",value:r[e.id]||s.maxCapacity,onChange:s=>{return a=e.id,i=s.target.value,void c(e=>(0,t.A)((0,t.A)({},e),{},{[a]:parseInt(i)}));var a,i},min:"1",max:"100"})]},e.id))})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)("button",{type:"button",onClick:a,children:"Cancel"}),(0,o.jsx)("button",{type:"button",onClick:async()=>{try{for(const e in r){const a=r[e];a!==s.maxCapacity&&await fetch("/api/timeslots/capacity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeSlotId:s.id,dayOfWeek:parseInt(e),maxCapacity:a})})}alert("Capacity settings saved successfully!"),l()}catch(e){console.error("Error saving capacity settings:",e),alert("Error saving capacity settings")}},children:"Save"})]})]})})},j=()=>{const[e,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[n,r]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1),[j,p]=(0,i.useState)(null),v=[{id:0,name:"Sunday",short:"Sun"},{id:1,name:"Monday",short:"Mon"},{id:2,name:"Tuesday",short:"Tue"},{id:3,name:"Wednesday",short:"Wed"},{id:4,name:"Thursday",short:"Thu"},{id:5,name:"Friday",short:"Fri"},{id:6,name:"Saturday",short:"Sat"}];(0,i.useEffect)(()=>{g()},[]);const g=async()=>{try{l(!0);const e=await fetch("/api/timeslots"),a=await e.json();a.success?s(a.data):console.error("Failed to fetch time slots:",a.error)}catch(e){console.error("Error fetching time slots:",e)}finally{l(!1)}},y=e=>{const[s,a]=e.split(":"),t=parseInt(s),i=t>=12?"PM":"AM";return"".concat(t%12||12,":").concat(a," ").concat(i)},N=(e,s)=>{var a;const t=null===(a=e.capacityOverrides)||void 0===a?void 0:a.find(e=>e.dayOfWeek===s&&e.isActive);return t?t.maxCapacity:e.maxCapacity};return a?(0,o.jsx)("div",{className:"loading",children:"Loading time slots..."}):(0,o.jsxs)("div",{className:"timeslot-management",children:[(0,o.jsxs)("div",{className:"timeslot-header",children:[(0,o.jsx)("h2",{children:"Time Slot Management"}),(0,o.jsxs)("div",{className:"header-buttons",children:[(0,o.jsx)("button",{className:"seed-button",onClick:async()=>{try{const e=await fetch("/api/timeslots?action=seed"),s=await e.json();s.success?(alert("Default time slots created successfully!"),g()):alert("Failed to create default time slots: "+s.error)}catch(e){console.error("Error seeding time slots:",e),alert("Error creating default time slots")}},disabled:e.length>0,children:e.length>0?"Default slots created":"Create Default Slots"}),(0,o.jsx)("button",{className:"add-button",onClick:()=>r(!0),children:"Add Time Slot"})]})]}),(0,o.jsx)("div",{className:"timeslot-grid",children:e.map(a=>(0,o.jsxs)("div",{className:"timeslot-card",children:[(0,o.jsxs)("div",{className:"timeslot-header",children:[(0,o.jsx)("h3",{children:y(a.time)}),(0,o.jsx)("span",{className:"status ".concat(a.isActive?"active":"inactive"),children:a.isActive?"Active":"Inactive"})]}),(0,o.jsxs)("div",{className:"timeslot-info",children:[(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{children:"Default Capacity:"}),(0,o.jsxs)("span",{children:[a.maxCapacity," guests"]})]}),(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{children:"Duration:"}),(0,o.jsxs)("span",{children:[a.duration," minutes"]})]}),(0,o.jsxs)("div",{className:"info-row",children:[(0,o.jsx)("span",{children:"Order:"}),(0,o.jsx)("span",{children:a.displayOrder})]})]}),(0,o.jsxs)("div",{className:"capacity-overrides",children:[(0,o.jsx)("h4",{children:"Day-specific Capacity:"}),(0,o.jsx)("div",{className:"days-grid",children:v.map(e=>(0,o.jsxs)("div",{className:"day-capacity",children:[(0,o.jsx)("span",{className:"day-name",children:e.short}),(0,o.jsx)("span",{className:"capacity-value",children:N(a,e.id)})]},e.id))})]}),(0,o.jsxs)("div",{className:"timeslot-actions",children:[(0,o.jsx)("button",{className:"edit-button",onClick:()=>d(a),children:"Edit"}),(0,o.jsx)("button",{className:"capacity-button",onClick:()=>{p(a),m(!0)},children:"Capacity"}),(0,o.jsx)("button",{className:"delete-button",onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this time slot?"))try{const t=await fetch("/api/timeslots",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}),i=await t.json();i.success?(s(e.filter(e=>e.id!==a)),alert("Time slot deleted successfully!")):alert("Failed to delete time slot: "+i.error)}catch(t){console.error("Error deleting time slot:",t),alert("Error deleting time slot")}})(a.id),children:"Delete"})]})]},a.id))}),n&&(0,o.jsx)(x,{onClose:()=>r(!1),onSave:async a=>{try{const t=await fetch("/api/timeslots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await t.json();i.success?(s([...e,i.data]),r(!1),alert("Time slot created successfully!")):alert("Failed to create time slot: "+i.error)}catch(t){console.error("Error creating time slot:",t),alert("Error creating time slot")}},title:"Add New Time Slot"}),c&&(0,o.jsx)(x,{slot:c,onClose:()=>d(null),onSave:a=>(async(a,i)=>{try{const l=await fetch("/api/timeslots",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,t.A)({id:a},i))}),n=await l.json();n.success?(s(e.map(e=>e.id===a?n.data:e)),d(null),alert("Time slot updated successfully!")):alert("Failed to update time slot: "+n.error)}catch(l){console.error("Error updating time slot:",l),alert("Error updating time slot")}})(c.id,a),title:"Edit Time Slot"}),h&&j&&(0,o.jsx)(u,{slot:j,onClose:()=>{m(!1),p(null)},onUpdate:()=>{g(),m(!1),p(null)},daysOfWeek:v})]})},p=e=>{var s;let{reservation:a,onClose:t}=e;return(0,o.jsx)("div",{className:"modal-overlay",onClick:t,children:(0,o.jsxs)("div",{className:"modal-content view-modal",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsxs)("div",{className:"modal-title",children:[(0,o.jsx)("h2",{children:"\ud83d\udccb Reservation Details"}),(0,o.jsxs)("span",{className:"reservation-id",children:["#",(null===(s=a.id)||void 0===s?void 0:s.slice(-8))||"N/A"]})]}),(0,o.jsx)("button",{className:"modal-close",onClick:t,children:"\xd7"})]}),(0,o.jsxs)("div",{className:"reservation-details",children:[(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{className:"section-title",children:"\ud83d\udc64 Customer Information"}),(0,o.jsxs)("div",{className:"detail-grid",children:[(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udcdd"}),"Full Name"]}),(0,o.jsx)("div",{className:"detail-value",children:a.name})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udce7"}),"Email Address"]}),(0,o.jsx)("div",{className:"detail-value",children:a.email})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udcde"}),"Phone Number"]}),(0,o.jsx)("div",{className:"detail-value",children:a.phone})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udc65"}),"Party Size"]}),(0,o.jsxs)("div",{className:"detail-value",children:[a.guests," ",1===a.guests?"guest":"guests"]})]})]})]}),(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{className:"section-title",children:"\ud83d\uddd3\ufe0f Reservation Information"}),(0,o.jsxs)("div",{className:"detail-grid",children:[(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udcc5"}),"Date"]}),(0,o.jsx)("div",{className:"detail-value",children:(i=a.date,new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udd52"}),"Time"]}),(0,o.jsx)("div",{className:"detail-value",children:(e=>{const[s,a]=e.split(":"),t=parseInt(s),i=t>=12?"PM":"AM";return"".concat(t%12||12,":").concat(a," ").concat(i)})(a.time)})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udcca"}),"Status"]}),(0,o.jsx)("div",{className:"detail-value",children:(0,o.jsx)("span",{className:"status-badge",style:{backgroundColor:(e=>{switch(e.toLowerCase()){case"pending":return"#f56565";case"confirmed":return"#48bb78";case"completed":return"#4299e1";case"cancelled":return"#ed8936";case"no_show":return"#9f7aea";default:return"#718096"}})(a.status),color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase"},children:a.status})})]}),(0,o.jsxs)("div",{className:"detail-item",children:[(0,o.jsxs)("div",{className:"detail-label",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\u23f0"}),"Created"]}),(0,o.jsx)("div",{className:"detail-value",children:new Date(a.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]})]}),(0,o.jsxs)("div",{className:"detail-section",children:[(0,o.jsx)("h3",{className:"section-title",children:"\ud83d\udcac Special Requests"}),(0,o.jsx)("div",{className:"special-requests",children:a.specialRequests?(0,o.jsxs)("div",{className:"request-content",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\ud83d\udcdd"}),(0,o.jsx)("p",{children:a.specialRequests})]}):(0,o.jsxs)("div",{className:"no-requests",children:[(0,o.jsx)("span",{className:"detail-icon",children:"\u2705"}),(0,o.jsx)("p",{children:"No special requests"})]})})]})]}),(0,o.jsx)("div",{className:"modal-actions",children:(0,o.jsxs)("button",{onClick:t,className:"primary-btn",children:[(0,o.jsx)("span",{children:"\u2713"})," Close"]})})]})});var i},v=e=>{let{reservation:s,onClose:a,onUpdate:t,isLoading:l}=e;const[n,r]=(0,i.useState)(s.status);return(0,o.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,o.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{children:"Update Reservation Status"}),(0,o.jsx)("button",{className:"modal-close",onClick:a,children:"\xd7"})]}),(0,o.jsxs)("div",{className:"reservation-summary",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Customer:"})," ",s.name]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Date:"})," ",new Date(s.date).toLocaleDateString()]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Time:"})," ",s.time]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Guests:"})," ",s.guests]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Current Status:"}),(0,o.jsx)("span",{className:"status ".concat(s.status.toLowerCase()),children:s.status})]})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s.id,n)},className:"update-form",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"status",children:"New Status:"}),(0,o.jsx)("select",{id:"status",value:n,onChange:e=>r(e.target.value),required:!0,children:[{value:"PENDING",label:"Pending",color:"#f56565"},{value:"CONFIRMED",label:"Confirmed",color:"#48bb78"},{value:"COMPLETED",label:"Completed",color:"#4299e1"},{value:"CANCELLED",label:"Cancelled",color:"#ed8936"},{value:"NO_SHOW",label:"No Show",color:"#9f7aea"}].map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)("button",{type:"button",onClick:a,className:"cancel-btn",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:l||n===s.status,className:"submit-btn",children:l?"Updating...":"Update Status"})]})]})]})})},g=e=>{let{onClose:s,onSubmit:a,isLoading:l}=e;const[n,r]=(0,i.useState)({name:"",email:"",phone:"",date:"",time:"",guests:2,specialRequests:""}),c=e=>{const{name:s,value:a}=e.target;r(e=>(0,t.A)((0,t.A)({},e),{},{[s]:a}))};return(0,o.jsx)("div",{className:"modal-overlay",onClick:s,children:(0,o.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{children:"Add Manual Reservation"}),(0,o.jsx)("button",{className:"modal-close",onClick:s,children:"\xd7"})]}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.name||!n.email||!n.phone||!n.date||!n.time)return void alert("Please fill in all required fields.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return void alert("Please enter a valid email address.");const s=new Date(n.date),t=new Date;t.setHours(0,0,0,0),s<t?alert("Please select a date that is today or in the future."):a(n)},className:"reservation-form",children:[(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:c,required:!0,placeholder:"Enter customer name"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:c,required:!0,placeholder:"customer@email.com"})]})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,o.jsx)("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:c,required:!0,placeholder:"+355 XX XXX XXX"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"guests",children:"Number of Guests *"}),(0,o.jsx)("select",{id:"guests",name:"guests",value:n.guests,onChange:c,required:!0,children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,o.jsxs)("option",{value:e,children:[e," ",1===e?"guest":"guests"]},e))})]})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"date",children:"Reservation Date *"}),(0,o.jsx)("input",{type:"date",id:"date",name:"date",value:n.date,onChange:c,required:!0,min:(new Date).toISOString().split("T")[0]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"time",children:"Reservation Time *"}),(0,o.jsxs)("select",{id:"time",name:"time",value:n.time,onChange:c,required:!0,children:[(0,o.jsx)("option",{value:"",children:"Select time"}),(0,o.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,o.jsx)("option",{value:"12:30",children:"12:30 PM"}),(0,o.jsx)("option",{value:"13:00",children:"1:00 PM"}),(0,o.jsx)("option",{value:"13:30",children:"1:30 PM"}),(0,o.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,o.jsx)("option",{value:"14:30",children:"2:30 PM"}),(0,o.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,o.jsx)("option",{value:"18:00",children:"6:00 PM"}),(0,o.jsx)("option",{value:"18:30",children:"6:30 PM"}),(0,o.jsx)("option",{value:"19:00",children:"7:00 PM"}),(0,o.jsx)("option",{value:"19:30",children:"7:30 PM"}),(0,o.jsx)("option",{value:"20:00",children:"8:00 PM"}),(0,o.jsx)("option",{value:"20:30",children:"8:30 PM"}),(0,o.jsx)("option",{value:"21:00",children:"9:00 PM"}),(0,o.jsx)("option",{value:"21:30",children:"9:30 PM"})]})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"specialRequests",children:"Special Requests"}),(0,o.jsx)("textarea",{id:"specialRequests",name:"specialRequests",value:n.specialRequests,onChange:c,placeholder:"Any dietary restrictions, special occasions, or other requests...",rows:"3"})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"cancel-btn",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:l,className:"submit-btn",children:l?"Adding...":"Add Reservation"})]})]})]})})},y=()=>{var e;const{isSignedIn:s,user:a}=(0,l.Jd)(),[d,x]=(0,i.useState)("overview"),[u,y]=(0,i.useState)([]),[N,f]=(0,i.useState)({totalReservations:0,pendingReservations:0,activeBookings:0,completedReservations:0}),[b,C]=(0,i.useState)(!0),[A,w]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[F,E]=(0,i.useState)(!1),[D,T]=(0,i.useState)(null),[I,q]=(0,i.useState)(!1),[R,U]=(0,i.useState)(!1),[L,P]=(0,i.useState)({restaurantName:"",email:"",phone:"",address:"",operatingHours:{monday:{open:"12:00",close:"22:00",closed:!1},tuesday:{open:"12:00",close:"22:00",closed:!1},wednesday:{open:"12:00",close:"22:00",closed:!1},thursday:{open:"12:00",close:"22:00",closed:!1},friday:{open:"12:00",close:"22:00",closed:!1},saturday:{open:"12:00",close:"22:00",closed:!1},sunday:{open:"12:00",close:"22:00",closed:!1}},maxCapacity:50,websiteUrl:"",facebookUrl:"",instagramUrl:"",emailNotifications:!0,smsNotifications:!1}),[W,M]=(0,i.useState)(!1),[O,B]=(0,i.useState)(!1),[z,H]=(0,i.useState)(""),[G,_]=(0,i.useState)([]),[V,X]=(0,i.useState)(!1),J=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{C(!0);const s={};e&&(s.date=e);const a=await r.uU.getAll(s);if(a.success){const s=a.data;e?(_(s),X(!0)):(y(s),_([]),X(!1));const t=s.length,i=s.filter(e=>"PENDING"===e.status).length,l=s.filter(e=>"CONFIRMED"===e.status).length,n=s.filter(e=>"COMPLETED"===e.status).length;f({totalReservations:t,pendingReservations:i,activeBookings:l,completedReservations:n})}}catch(s){console.error("Error fetching dashboard data:",s)}finally{C(!1)}};if((0,i.useEffect)(()=>{s&&(J(),se())},[s]),!s)return(0,o.jsx)(n.C5,{to:"/admin-login",replace:!0});const $=(null===(e="user_xxxxx,user_yyyyy")?void 0:e.split(","))||[];if(s&&a&&!$.includes(a.id))return(0,o.jsx)("div",{className:"unauthorized-container",children:(0,o.jsxs)("div",{className:"unauthorized-content",children:[(0,o.jsx)("h1",{children:"Access Denied"}),(0,o.jsx)("p",{children:"You don't have permission to access this area."}),(0,o.jsx)("button",{onClick:()=>window.location.href="/",className:"home-button",children:"Go to Homepage"})]})});const K=async()=>{const e=V?z:null;await J(e)},Y=e=>{const s=e.target.value;H(s),s?J(s):J()},Q=()=>{const e=(new Date).toISOString().split("T")[0];H(e),J(e)},Z=()=>{H(""),J()},ee=()=>V?G:u,se=async()=>{try{M(!0);const e=await c.getSettings();e.success?P(e.data):console.error("Failed to load restaurant settings:",e.error)}catch(e){console.error("Error loading restaurant settings:",e)}finally{M(!1)}},ae=async e=>{try{B(!0);const s=c.validateSettings(e);if(!s.isValid)return void alert("Please fix the following errors:\n"+s.errors.join("\n"));const a=await c.updateSettings(e);a.success?(P(a.data),alert("Settings saved successfully!")):alert("Failed to save settings: "+a.error)}catch(s){console.error("Error saving restaurant settings:",s),alert("Error saving settings: "+s.message)}finally{B(!1)}},te=e=>{e.preventDefault();const s=new FormData(e.target),a=(0,t.A)((0,t.A)({},L),{},{restaurantName:s.get("restaurantName"),phone:s.get("phone"),email:s.get("email"),address:s.get("address"),websiteUrl:s.get("websiteUrl"),facebookUrl:s.get("facebookUrl"),instagramUrl:s.get("instagramUrl"),emailNotifications:"on"===s.get("emailNotifications"),smsNotifications:"on"===s.get("smsNotifications")});ae(a)},ie=e=>{e.preventDefault();const s=new FormData(e.target),a=(0,t.A)({},L.operatingHours);["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(e=>{a[e]={open:s.get("".concat(e,"_open")),close:s.get("".concat(e,"_close")),closed:"on"===s.get("".concat(e,"_closed"))}});const i=(0,t.A)((0,t.A)({},L),{},{operatingHours:a});ae(i)};return(0,o.jsxs)("div",{className:"dashboard-container",children:[(0,o.jsxs)("div",{className:"dashboard-header",children:[(0,o.jsxs)("div",{className:"header-left",children:[(0,o.jsx)("img",{src:"https://ucarecdn.com/f2ebac4d-52d3-45f7-997d-3e2dea09557b/ullishtja_logo.jpeg",alt:"Ullishtja Logo",className:"dashboard-logo"}),(0,o.jsxs)("div",{className:"header-text",children:[(0,o.jsx)("h1",{children:"Admin Dashboard"}),(0,o.jsxs)("p",{children:["Welcome back, ",(null===a||void 0===a?void 0:a.firstName)||"Admin","!"]})]})]}),(0,o.jsx)("div",{className:"header-right",children:(0,o.jsx)(l.uF,{})})]}),(0,o.jsxs)("div",{className:"dashboard-content",children:[(0,o.jsxs)("nav",{className:"dashboard-nav",children:[(0,o.jsx)("button",{className:"nav-tab ".concat("overview"===d?"active":""),onClick:()=>x("overview"),children:"\ud83d\udcca Overview"}),(0,o.jsx)("button",{className:"nav-tab ".concat("menu"===d?"active":""),onClick:()=>x("menu"),children:"\ud83d\udccb Menu"}),(0,o.jsx)("button",{className:"nav-tab ".concat("timeslots"===d?"active":""),onClick:()=>x("timeslots"),children:"\ud83d\udd52 Time Slots"}),(0,o.jsx)("button",{className:"nav-tab ".concat("layout"===d?"active":""),onClick:()=>x("layout"),children:"\ud83d\udcd0 Layout"}),(0,o.jsx)("button",{className:"nav-tab ".concat("settings"===d?"active":""),onClick:()=>x("settings"),children:"\u2699\ufe0f Settings"})]}),(0,o.jsx)("main",{className:"dashboard-main",children:(()=>{switch(d){case"overview":return(0,o.jsxs)("div",{className:"tab-content",children:[(0,o.jsx)("h2",{children:"Dashboard Overview"}),(0,o.jsxs)("div",{className:"stats-grid",children:[(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Total Reservations"}),(0,o.jsx)("div",{className:"stat-number",children:N.totalReservations}),(0,o.jsx)("div",{className:"stat-change",children:V?"For ".concat(new Date(z).toLocaleDateString()):"All time reservations"})]}),(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Pending"}),(0,o.jsx)("div",{className:"stat-number",children:N.pendingReservations}),(0,o.jsx)("div",{className:"stat-change",children:"Awaiting confirmation"})]}),(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Active Bookings"}),(0,o.jsx)("div",{className:"stat-number",children:N.activeBookings}),(0,o.jsx)("div",{className:"stat-change",children:"Confirmed reservations"})]}),(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Completed"}),(0,o.jsx)("div",{className:"stat-number",children:N.completedReservations}),(0,o.jsx)("div",{className:"stat-change",children:"Successfully served"})]})]}),(0,o.jsxs)("div",{className:"reservations-section",children:[(0,o.jsxs)("div",{className:"table-header",children:[(0,o.jsx)("h3",{children:V?"Reservations for ".concat(new Date(z).toLocaleDateString()):"Recent Reservations"}),(0,o.jsxs)("div",{className:"table-actions",children:[(0,o.jsxs)("div",{className:"date-filter-controls",children:[(0,o.jsx)("input",{type:"date",value:z,onChange:Y,className:"date-filter-input"}),(0,o.jsx)("button",{onClick:Q,className:"today-btn",children:"Today"}),V&&(0,o.jsx)("button",{onClick:Z,className:"clear-filter-btn",children:"Show All"})]}),(0,o.jsxs)("div",{className:"reservation-count",children:[(0,o.jsxs)("p",{children:["Total Reservations: ",ee().length]}),(0,o.jsx)("button",{onClick:K,className:"refresh-btn",disabled:b,children:b?"Refreshing...":"Refresh"})]})]})]}),(0,o.jsx)("div",{className:"reservations-table",children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Date"}),(0,o.jsx)("th",{children:"Name"}),(0,o.jsx)("th",{children:"Email"}),(0,o.jsx)("th",{children:"Phone"}),(0,o.jsx)("th",{children:"Guests"}),(0,o.jsx)("th",{children:"Time"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Special Requests"}),(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{children:0===ee().length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"9",className:"no-data",children:b?"Loading reservations...":"No reservations found"})}):ee().map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{children:e.email}),(0,o.jsx)("td",{children:e.phone}),(0,o.jsx)("td",{children:e.guests}),(0,o.jsx)("td",{children:e.time}),(0,o.jsx)("td",{children:(0,o.jsx)("span",{className:"status ".concat(e.status.toLowerCase()),children:e.status})}),(0,o.jsx)("td",{children:e.specialRequests||"None"}),(0,o.jsxs)("td",{children:[(0,o.jsx)("button",{onClick:()=>(e=>{T(e),S(!0)})(e),className:"action-btn view",children:"View"}),(0,o.jsx)("button",{onClick:()=>(e=>{T(e),E(!0)})(e),className:"action-btn edit",children:"Update"})]})]},e.id))})]})})]})]});case"menu":return(0,o.jsx)(h,{});case"timeslots":return(0,o.jsx)(j,{});case"layout":return(0,o.jsx)(m,{});case"settings":return(0,o.jsxs)("div",{className:"tab-content",children:[(0,o.jsx)("h2",{children:"Settings"}),W?(0,o.jsx)("div",{className:"loading",children:"Loading settings..."}):(0,o.jsxs)("div",{className:"settings-sections",children:[(0,o.jsxs)("div",{className:"settings-section",children:[(0,o.jsx)("h3",{children:"Restaurant Information"}),(0,o.jsxs)("form",{onSubmit:te,children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Restaurant Name"}),(0,o.jsx)("input",{type:"text",name:"restaurantName",value:L.restaurantName,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{restaurantName:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Phone Number"}),(0,o.jsx)("input",{type:"tel",name:"phone",value:L.phone,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{phone:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Email"}),(0,o.jsx)("input",{type:"email",name:"email",value:L.email,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{email:e.target.value})),required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Address"}),(0,o.jsx)("input",{type:"text",name:"address",value:L.address,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{address:e.target.value}))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Website URL"}),(0,o.jsx)("input",{type:"url",name:"websiteUrl",value:L.websiteUrl||"",onChange:e=>P((0,t.A)((0,t.A)({},L),{},{websiteUrl:e.target.value})),placeholder:"https://example.com"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Facebook URL"}),(0,o.jsx)("input",{type:"url",name:"facebookUrl",value:L.facebookUrl||"",onChange:e=>P((0,t.A)((0,t.A)({},L),{},{facebookUrl:e.target.value})),placeholder:"https://facebook.com/yourpage"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Instagram URL"}),(0,o.jsx)("input",{type:"url",name:"instagramUrl",value:L.instagramUrl||"",onChange:e=>P((0,t.A)((0,t.A)({},L),{},{instagramUrl:e.target.value})),placeholder:"https://instagram.com/yourpage"})]}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"emailNotifications",checked:L.emailNotifications,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{emailNotifications:e.target.checked}))}),"Email Notifications"]})}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"smsNotifications",checked:L.smsNotifications,onChange:e=>P((0,t.A)((0,t.A)({},L),{},{smsNotifications:e.target.checked}))}),"SMS Notifications"]})}),(0,o.jsx)("button",{type:"submit",className:"save-btn",disabled:O,children:O?"Saving...":"Save Changes"})]})]}),(0,o.jsxs)("div",{className:"settings-section",children:[(0,o.jsx)("h3",{children:"Operating Hours"}),(0,o.jsxs)("form",{onSubmit:ie,children:[(0,o.jsx)("div",{className:"hours-grid",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>{var s,a,i,l,n;return(0,o.jsxs)("div",{className:"day-hours",children:[(0,o.jsx)("span",{children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,o.jsx)("input",{type:"time",name:"".concat(e,"_open"),value:(null===(s=L.operatingHours[e])||void 0===s?void 0:s.open)||"12:00",onChange:s=>P((0,t.A)((0,t.A)({},L),{},{operatingHours:(0,t.A)((0,t.A)({},L.operatingHours),{},{[e]:(0,t.A)((0,t.A)({},L.operatingHours[e]),{},{open:s.target.value})})})),disabled:null===(a=L.operatingHours[e])||void 0===a?void 0:a.closed}),(0,o.jsx)("span",{children:"to"}),(0,o.jsx)("input",{type:"time",name:"".concat(e,"_close"),value:(null===(i=L.operatingHours[e])||void 0===i?void 0:i.close)||"22:00",onChange:s=>P((0,t.A)((0,t.A)({},L),{},{operatingHours:(0,t.A)((0,t.A)({},L.operatingHours),{},{[e]:(0,t.A)((0,t.A)({},L.operatingHours[e]),{},{close:s.target.value})})})),disabled:null===(l=L.operatingHours[e])||void 0===l?void 0:l.closed}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"".concat(e,"_closed"),checked:(null===(n=L.operatingHours[e])||void 0===n?void 0:n.closed)||!1,onChange:s=>P((0,t.A)((0,t.A)({},L),{},{operatingHours:(0,t.A)((0,t.A)({},L.operatingHours),{},{[e]:(0,t.A)((0,t.A)({},L.operatingHours[e]),{},{closed:s.target.checked})})}))}),"Closed"]})]},e)})}),(0,o.jsx)("button",{type:"submit",className:"save-btn",disabled:O,children:O?"Saving...":"Save Hours"})]})]})]})]});default:return(0,o.jsx)("div",{children:"Tab content not found"})}})()})]}),(0,o.jsx)("button",{className:"fab-button",onClick:()=>w(!0),title:"Add Manual Reservation",children:"+"}),A&&(0,o.jsx)(g,{onClose:()=>w(!1),onSubmit:async e=>{q(!0);try{const s=await r.uU.create(e);s.success?(alert("Reservation added successfully!"),w(!1),window.location.reload()):alert("Failed to add reservation: "+s.error)}catch(s){alert("Error adding reservation: "+s.message)}finally{q(!1)}},isLoading:I}),k&&D&&(0,o.jsx)(p,{reservation:D,onClose:()=>{S(!1),T(null)}}),F&&D&&(0,o.jsx)(v,{reservation:D,onClose:()=>{E(!1),T(null)},onUpdate:async(e,s)=>{U(!0);try{const a=await r.uU.updateStatus(e,s);if(a.success){const e=await r.uU.getAll();if(e.success){y(e.data);const s=e.data.length,a=e.data.filter(e=>"PENDING"===e.status).length,t=e.data.filter(e=>"CONFIRMED"===e.status).length,i=e.data.filter(e=>"COMPLETED"===e.status).length;f({totalReservations:s,pendingReservations:a,activeBookings:t,completedReservations:i})}E(!1),T(null)}else alert("Failed to update status: "+a.error)}catch(a){alert("Error updating status: "+a.message)}finally{U(!1)}},isLoading:R})]})}}}]);
//# sourceMappingURL=597.28ff7a04.chunk.js.map