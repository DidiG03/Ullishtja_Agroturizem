"use strict";(self.webpackChunkullishtja_agroturizem=self.webpackChunkullishtja_agroturizem||[]).push([[639],{6639:(e,s,n)=>{n.r(s),n.d(s,{default:()=>r});var i=n(5043),a=n(7115),l=n(579);const r=function(e){let{currentLanguage:s,onClose:n}=e;const[r,c]=(0,i.useState)([]),[t,o]=(0,i.useState)(null),[d,m]=(0,i.useState)(!0),[u,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{h()},[]);const h=async()=>{try{m(!0);const e=await a.A.getCompleteMenu();if(console.log("DynamicMenu API response:",e),!e||!e.success)throw new Error((null===e||void 0===e?void 0:e.error)||"Failed to load menu");{const s=e.data||[];console.log("DynamicMenu setting categories:",s),c(Array.isArray(s)?s:[]),Array.isArray(s)&&s.length>0?(console.log("Setting activeCategory to:",s[0].id),o(s[0].id)):console.log("No categories to set as active:",s)}}catch(u){console.error("Error loading menu:",u),g("Failed to load menu"),c([])}finally{m(!1)}},j=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name";switch(s){case"al":default:return e["".concat(n,"AL")];case"en":return e["".concat(n,"EN")];case"it":return e["".concat(n,"IT")]}},v=(e,s)=>j(e,s)||"",x=()=>Array.isArray(r)?r.find(e=>e.id===t):void 0;return d?(0,l.jsx)("div",{className:"full-menu-overlay",children:(0,l.jsx)("div",{className:"full-menu-container",children:(0,l.jsx)("div",{className:"loading",children:"Loading menu..."})})}):u?(0,l.jsx)("div",{className:"full-menu-overlay",children:(0,l.jsxs)("div",{className:"full-menu-container",children:[(0,l.jsx)("div",{className:"error",children:u}),(0,l.jsx)("button",{onClick:n,children:"Close"})]})}):(0,l.jsx)("div",{className:"full-menu-overlay",children:(0,l.jsxs)("div",{className:"full-menu-container",children:[(0,l.jsxs)("div",{className:"full-menu-header",children:[(0,l.jsxs)("h1",{children:["al"===s&&"Menuja e Plot\xeb","en"===s&&"Full Menu","it"===s&&"Menu Completo"]}),(0,l.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),(0,l.jsxs)("div",{className:"menu-content",children:[(0,l.jsx)("div",{className:"category-nav",children:(Array.isArray(r)?r:[]).map(e=>(0,l.jsx)("button",{className:"category-btn ".concat(t===e.id?"active":""),onClick:()=>o(e.id),children:j(e)},e.id))}),(0,l.jsx)("div",{className:"menu-items-container",children:(0,l.jsxs)("div",{className:"menu-category-section",children:[(0,l.jsx)("h2",{children:x()?j(x()):""}),(0,l.jsx)("div",{className:"menu-items-grid",children:(()=>{const e=(()=>{const e=x();console.log("getCurrentItems - activeCategory:",t),console.log("getCurrentItems - category:",e),console.log("getCurrentItems - category.menuItems:",null===e||void 0===e?void 0:e.menuItems);const s=e&&e.menuItems||[];return console.log("getCurrentItems - returning items:",s),s})();return console.log("Rendering items:",e.length,"items"),e.map((e,n)=>(0,l.jsxs)("div",{className:"menu-item-card",children:[(0,l.jsxs)("div",{className:"item-header",children:[(0,l.jsx)("h3",{children:j(e)}),(0,l.jsxs)("span",{className:"item-price",children:[e.price," ",e.currency]})]}),(0,l.jsx)("p",{className:"item-description",children:v(e,"description")}),v(e,"ingredients")&&(0,l.jsx)("div",{className:"item-ingredients",children:(0,l.jsxs)("small",{children:[(0,l.jsxs)("strong",{children:["al"===s&&"P\xebrb\xebr\xebsit: ","en"===s&&"Ingredients: ","it"===s&&"Ingredienti: "]}),v(e,"ingredients")]})}),(0,l.jsxs)("div",{className:"item-badges",children:[e.isSpicy&&(0,l.jsx)("span",{className:"spicy-indicator",children:"\ud83c\udf36\ufe0f"}),e.isVegetarian&&(0,l.jsx)("span",{className:"vegetarian-indicator",children:"\ud83c\udf31"}),e.isRecommended&&(0,l.jsxs)("span",{className:"recommended-badge",children:["al"===s&&"I Rekomanduar","en"===s&&"Recommended","it"===s&&"Consigliato"]}),e.isNew&&(0,l.jsxs)("span",{className:"new-badge",children:["al"===s&&"E Re","en"===s&&"New","it"===s&&"Nuovo"]})]})]},e.id))})()})]})})]})]})})}}}]);
//# sourceMappingURL=639.20c2d991.chunk.js.map