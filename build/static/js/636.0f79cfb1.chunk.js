"use strict";(self.webpackChunkullishtja_agroturizem=self.webpackChunkullishtja_agroturizem||[]).push([[636],{7636:(e,s,i)=>{i.r(s),i.d(s,{default:()=>n});var a=i(9379),r=i(5043),l=i(205),t=i(579);const n=e=>{let{currentLanguage:s,translations:i}=e;const[n,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[g,h]=(0,r.useState)(3),[v,w]=(0,r.useState)(new Set),[m,x]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{const e=await l.A.fetchGoogleReviews(),s=l.A.getDailyShuffledReviews(e,3);o(s),x(s.allHighRatingReviews||s.reviews)}catch(e){console.error("Error loading reviews:",e)}finally{d(!1)}})()},[]);(0,r.useEffect)(()=>{if(m.length>0){const e=m.slice(0,g);o(s=>(0,a.A)((0,a.A)({},s),{},{reviews:e}))}},[g,m]);const j=e=>v.has(e),u=e=>e.length>150;return c?(0,t.jsxs)("div",{className:"reviews-loading",children:[(0,t.jsx)("div",{className:"loading-spinner"}),(0,t.jsx)("p",{children:i.googleReviews.loadingReviews})]}):n&&0!==n.reviews.length?(0,t.jsx)("section",{className:"google-reviews-section",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"reviews-header",children:[(0,t.jsx)("h2",{children:i.googleReviews.title}),(0,t.jsxs)("div",{className:"overall-rating",children:[(0,t.jsxs)("div",{className:"rating-display",children:[(0,t.jsx)("div",{className:"rating-stars",children:l.A.generateStarDisplay(n.averageRating)}),(0,t.jsxs)("div",{className:"rating-info",children:[(0,t.jsx)("span",{className:"rating-number",children:l.A.formatRating(n.averageRating)}),(0,t.jsxs)("span",{className:"rating-based-on",children:[i.googleReviews.basedOn," ",n.totalReviews," ",i.googleReviews.googleReviews]})]})]}),(0,t.jsxs)("a",{href:l.A.getReviewsUrl(),target:"_blank",rel:"noopener noreferrer",className:"google-link",children:[(0,t.jsx)("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google"}),i.googleReviews.viewOnGoogle]})]})]}),(0,t.jsx)("div",{className:"reviews-grid",children:n.reviews.map(e=>{return(0,t.jsxs)("div",{className:"review-card",children:[(0,t.jsxs)("div",{className:"review-header",children:[(0,t.jsxs)("div",{className:"reviewer-info",children:[e.authorPhotoUrl?(0,t.jsx)("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"reviewer-photo",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,t.jsx)("div",{className:"reviewer-photo-placeholder",style:{display:e.authorPhotoUrl?"none":"flex"},children:e.authorName.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"reviewer-details",children:[(0,t.jsx)("h4",{className:"reviewer-name",children:e.authorName}),(0,t.jsx)("span",{className:"review-time",children:e.relativeTimeDescription})]})]}),(0,t.jsx)("div",{className:"review-rating",children:[...Array(5)].map((s,i)=>(0,t.jsx)("span",{className:"star ".concat(i<e.rating?"filled":"empty"),children:"\u2605"},i))})]}),(0,t.jsxs)("div",{className:"review-text-container",children:[(0,t.jsx)("p",{className:"review-text",children:j(e.id)?e.text:(s=e.text,s.length<=150?s:s.substring(0,150)+"...")}),u(e.text)&&(0,t.jsx)("button",{className:"expand-review-btn",onClick:()=>{return s=e.id,void w(e=>{const i=new Set(e);return i.has(s)?i.delete(s):i.add(s),i});var s},children:j(e.id)?i.googleReviews.showLess||"Show Less":i.googleReviews.seeMore||"See More"})]})]},e.id);var s})}),m.length>3&&(0,t.jsx)("div",{className:"reviews-actions",children:g<m.length?(0,t.jsxs)("button",{className:"show-more-btn",onClick:()=>{h(e=>Math.min(e+3,m.length))},children:[i.googleReviews.showMoreReviews," (",m.length-g," ",i.googleReviews.remaining,")"]}):(0,t.jsx)("button",{className:"show-less-btn",onClick:()=>{h(3)},children:i.googleReviews.showLessReviews})}),(0,t.jsx)("div",{className:"reviews-footer",children:(0,t.jsx)("a",{href:l.A.getWriteReviewUrl(),target:"_blank",rel:"noopener noreferrer",className:"write-review-btn",children:i.googleReviews.writeReview})})]})}):(0,t.jsx)("div",{className:"reviews-error",children:(0,t.jsx)("p",{children:i.googleReviews.unableToLoad})})}}}]);
//# sourceMappingURL=636.0f79cfb1.chunk.js.map